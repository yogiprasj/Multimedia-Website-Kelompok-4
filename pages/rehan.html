<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Rehan - Kelompok 4</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/member.css">
</head>
<body>
    <!-- Audio untuk narasi Rehan -->
    <audio id="narasiAudio" preload="auto">
        <source src="../audio/rehan-narasi.mp3" type="audio/mpeg">
        Browser kamu tidak mendukung audio.
    </audio>

    <div class="container">
        <div class="detail-container">
            <a href="../index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> Kembali ke Halaman Utama
            </a>

            <!-- Kontrol Audio -->
            <div class="audio-controls">
                <button id="playBtn" class="audio-btn">
                    <i class="fas fa-play"></i> Putar Narasi
                </button>
                <button id="pauseBtn" class="audio-btn" style="display: none;">
                    <i class="fas fa-pause"></i> Jeda Narasi
                </button>
                <button id="stopBtn" class="audio-btn">
                    <i class="fas fa-stop"></i> Berhenti
                </button>
                <div class="audio-info">
                    <i class="fas fa-volume-up"></i> Dengarkan profil Rehan
                </div>
            </div>

            <div class="member-detail">
                <div class="detail-header">
                    <div class="detail-photo">
                        <img src="../img/foto rehan.jpg" alt="Foto Rehan">
                    </div>
                    <div class="detail-info">
                        <h1>Rheihandra Ardhiansyah</h1>
                        <div class="detail-hobby">
                            <i class="fa-brands fa-spotify"></i>
                            <i class="fa-solid fa-compact-disc"></i>
                            <i class="fa-solid fa-music"></i>
                        </div>
                    </div>
                </div>

                <div class="detail-content">
                    <div class="detail-video">
                        <h3>Video Hobi Rehan</h3>
                        <video controls>
                            <source src="../video/rehan.mp4" type="video/mp4">
                            Browser kamu tidak mendukung video.
                        </video>
                    </div>
                    
                    <div class="detail-description">
                        <h3>Tentang Rehan</h3>

                        <p>Halo, gue Rehan. Gue punya ketertarikan yang cukup dalam sama musik, 
                            terutama ketika sebuah lagu bisa ngasih rasa yang nggak bisa dijelasin dengan kata-kata. 
                            Buat gue musik itu bukan cuma hiburan, tapi pengalaman yang bikin pikiran fokus dan hati tenang.</p>
                        <p>Gue paling banyak ngabisin waktu dengerin karya-karya GFRIEND. Setiap lagu mereka punya detail yang kuat, 
                            dari vokal yang rapi sampai orkestra yang dibuat dengan serius. Beberapa lagunya bahkan bisa bikin 
                            gue merinding karena komposisinya begitu matang. Buat gue, itu yang bikin musik terasa hidup.</p>
                        
                        <div class="audio-notice">
                            <i class="fas fa-headphones"></i>
                            <p>Tekan tombol "Putar Narasi" di atas untuk mendengarkan versi audio dari profil ini.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('narasiAudio');
            const playBtn = document.getElementById('playBtn');
            const pauseBtn = document.getElementById('pauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            const audioInfo = document.querySelector('.audio-info');
            
            // Fungsi untuk update tombol
            function updateButtonStates() {
                if (audio.paused || audio.ended) {
                    playBtn.style.display = 'inline-flex';
                    pauseBtn.style.display = 'none';
                    audioInfo.innerHTML = '<i class="fas fa-volume-up"></i> Tekan putar untuk mendengarkan narasi';
                } else {
                    playBtn.style.display = 'none';
                    pauseBtn.style.display = 'inline-flex';
                    audioInfo.innerHTML = '<i class="fas fa-volume-up"></i> Sedang memutar narasi...';
                }
            }
            
            // Event listeners untuk tombol
            playBtn.addEventListener('click', function() {
                audio.play()
                    .then(() => {
                        updateButtonStates();
                        console.log('Audio started playing');
                    })
                    .catch(error => {
                        console.log('Error playing audio:', error);
                        audioInfo.innerHTML = '<i class="fas fa-exclamation-circle"></i> Klik izinkan jika ada permintaan autoplay';
                    });
            });
            
            pauseBtn.addEventListener('click', function() {
                audio.pause();
                updateButtonStates();
            });
            
            stopBtn.addEventListener('click', function() {
                audio.pause();
                audio.currentTime = 0;
                updateButtonStates();
            });
            
            // Update state ketika audio berakhir
            audio.addEventListener('ended', function() {
                updateButtonStates();
                audioInfo.innerHTML = '<i class="fas fa-volume-up"></i> Narasi selesai';
            });
            
            // Update state ketika ada error
            audio.addEventListener('error', function() {
                audioInfo.innerHTML = '<i class="fas fa-exclamation-triangle"></i> File audio tidak ditemukan';
                playBtn.disabled = true;
            });
            
            // Update state awal
            updateButtonStates();
        });
    </script>
</body>
</html>